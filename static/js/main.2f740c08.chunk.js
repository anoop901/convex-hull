(this["webpackJsonpconvex-hull"]=this["webpackJsonpconvex-hull"]||[]).push([[0],{82:function(e,n,t){"use strict";t.r(n);var r=t(4),a=t(7),c=t.n(a),o=t(31),i=t.n(o),u=t(11),s=t(36),l=t(32),x=t(9),b=t(34),d=t(35),f=function(){function e(n){Object(b.a)(this,e),this.value=n}return Object(d.a)(e,[{key:"then",value:function(n){return new e(n(this.value))}},{key:"end",value:function(){return this.value}}]),e}();function v(e){return new f(e)}var h=t(12),j=t(8),y=t.n(j),p=y.a.mark(g),O=y.a.mark(F),P=y.a.mark(C);function k(e){return y.a.mark((function n(t){var r,a,c,o,i,u;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r=t[Symbol.iterator](),a=0;a<e;a++)r.next();c=r.next(),o=c.value,i=c.done;case 3:if(i){n.next=11;break}return n.next=6,o;case 6:u=r.next(),o=u.value,i=u.done,n.next=3;break;case 11:case"end":return n.stop()}}),n)}))}function g(e,n){var t,r,a,c,o,i,u,s;return y.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:t=e[Symbol.iterator](),r=n[Symbol.iterator]();case 2:if(a=t.next(),c=a.done,o=a.value,i=r.next(),u=i.done,s=i.value,c||u){l.next=10;break}return l.next=8,{first:o,second:s};case 8:l.next=11;break;case 10:return l.abrupt("break",13);case 11:l.next=2;break;case 13:case"end":return l.stop()}}),p)}function m(e){return y.a.mark((function n(t){var r,a,c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=Object(h.a)(t),n.prev=1,r.s();case 3:if((a=r.n()).done){n.next=9;break}return c=a.value,n.next=7,e(c);case 7:n.next=3;break;case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),r.e(n.t0);case 14:return n.prev=14,r.f(),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])}))}function w(e){return function(n){var t=n[Symbol.iterator](),r=t.next();if(r.done)throw new Error("cannot reduce empty iterable");for(var a=r.value,c=t.next(),o=c.value,i=c.done;!i;){a=e(a,o);var u=t.next();o=u.value,i=u.done}return a}}function S(e){return v(g(e,F())).then(m((function(e){var n=e.first;return{index:e.second,value:n}}))).end()}function F(){var e,n,t=arguments;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e=t.length>0&&void 0!==t[0]?t[0]:0,n=e;case 2:return r.next=5,n;case 5:n++,r.next=2;break;case 8:case"end":return r.stop()}}),O)}function I(e,n){return function(t){var r,a=e,c=Object(h.a)(t);try{for(c.s();!(r=c.n()).done;){var o=r.value;a=n(a,o)}}catch(i){c.e(i)}finally{c.f()}return a}}function C(e,n){var t;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=e;case 1:return r.next=4,t;case 4:t=n(t),r.next=1;break;case 7:case"end":return r.stop()}}),P)}function A(e,n){return{x:n.x-e.x,y:n.y-e.y}}function D(e,n){return e.x*n.y-e.y*n.x}function E(e,n){return(t=A(e,n)).x*t.x+t.y*t.y;var t}function J(e){return function(n,t){return e(n)-e(t)}}function M(e){var n,t,r=v(e).then(S).then((n=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e,t){var r,a=Object(h.a)(n);try{for(a.s();!(r=a.n()).done;){var c=(0,r.value)(e,t);if(0!==c)return c}}catch(o){a.e(o)}finally{a.f()}return 0}}(J((function(e){return e.value.x})),J((function(e){return e.value.y}))),w((function(e,t){return n(t,e)<0?t:e})))).end(),a=r.index,c=r.value;return v(C({result:[],currentPointIndex:a,currentPoint:c},(function(n){var t,r=n.result,a=n.currentPointIndex,c=n.currentPoint,o=v(e).then(S).then((t=function(e){return e.index!==a},y.a.mark((function e(n){var r,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(h.a)(n),e.prev=1,r.s();case 3:if((a=r.n()).done){e.next=10;break}if(c=a.value,!t(c)){e.next=8;break}return e.next=8,c;case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})))).then(I({bestPointSoFarIndex:null,bestPointSoFar:null,collinearPoints:[]},(function(e,n){var t=e.bestPointSoFarIndex,r=e.bestPointSoFar,a=e.collinearPoints,o=n.index,i=n.value;if(null===t||null===r)return{bestPointSoFarIndex:o,bestPointSoFar:i,collinearPoints:a};var s=D(A(c,r),A(c,i));return s>0?{bestPointSoFarIndex:o,bestPointSoFar:i,collinearPoints:[]}:0===s?E(c,i)>E(c,r)?{bestPointSoFarIndex:o,bestPointSoFar:i,collinearPoints:[].concat(Object(u.a)(a),[r])}:{bestPointSoFarIndex:t,bestPointSoFar:r,collinearPoints:[].concat(Object(u.a)(a),[i])}:{bestPointSoFarIndex:t,bestPointSoFar:r,collinearPoints:a}}))).end(),i=o.bestPointSoFarIndex,s=o.bestPointSoFar,l=o.collinearPoints;if(null===i||null===s)throw new Error("unimplemented");return{currentPointIndex:i,currentPoint:s,result:[].concat(Object(u.a)(r),[c],Object(u.a)(l))}}))).then(k(1)).then((t=function(e){return e.currentPointIndex===a},function(e){var n,r=Object(h.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(t(a))return a}}catch(c){r.e(c)}finally{r.f()}return null})).then((function(e){if(null==e)throw new Error("unreachable");return e})).then((function(e){return e.result})).end()}var B=500;var L=function(){var e=c.a.useState([{x:100,y:100},{x:100,y:200},{x:200,y:200},{x:200,y:300}]),n=Object(s.a)(e,2),t=n[0],a=n[1];function o(e,n){a(Object(l.a)(t,e,n))}var i=M(t);return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"Double-click to add a point."}),Object(r.jsxs)(x.e,{width:B,height:500,onDblClick:function(e){var n,r,c=null===(n=e.target.getStage())||void 0===n?void 0:n.getPointerPosition();c&&(r={x:c.x,y:c.y},a([].concat(Object(u.a)(t),[r])))},children:[Object(r.jsx)(x.b,{children:Object(r.jsx)(x.d,{x:0,y:0,width:B,height:500,stroke:"black"})}),Object(r.jsxs)(x.b,{children:[Object(r.jsx)(x.c,{points:i.flatMap((function(e){return[e.x,e.y]})),stroke:"orange",lineJoin:"round",lineCap:"round",hitStrokeWidth:0,closed:!0}),i.map((function(e,n){var t=e.x,a=e.y;return Object(r.jsx)(x.a,{x:t,y:a,radius:15,fill:"orange"},n)}))]}),Object(r.jsx)(x.b,{children:t.map((function(e,n){return Object(r.jsx)(x.a,{draggable:!0,x:e.x,y:e.y,radius:10,fill:"green",stroke:"darkgreen",onDragMove:function(e){o(n,{x:e.target.x(),y:e.target.y()})}},n)}))})]})]}),Object(r.jsx)("h1",{children:"Points"}),Object(r.jsx)("div",{children:Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"x"}),Object(r.jsx)("td",{children:"y"})]})}),Object(r.jsx)("tbody",{children:t.map((function(e,n){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Object(r.jsx)("input",{type:"number",value:e.x,min:0,max:B,onChange:function(e){o(n,{x:e.target.valueAsNumber,y:t[n].y})}})}),Object(r.jsx)("td",{children:Object(r.jsx)("input",{type:"number",value:e.y,min:0,max:B,onChange:function(e){o(n,{x:t[n].x,y:e.target.valueAsNumber})}})})]},n)}))})]})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{onClick:function(){a([].concat(Object(u.a)(t),[{x:250,y:250}]))},children:"Add"})})]})},N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,83)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),r(e),a(e),c(e),o(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(L,{})}),document.getElementById("root")),N()}},[[82,1,2]]]);
//# sourceMappingURL=main.2f740c08.chunk.js.map